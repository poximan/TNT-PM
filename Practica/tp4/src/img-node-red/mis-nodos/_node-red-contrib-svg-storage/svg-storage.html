<script type="text/javascript">

  RED.nodes.registerType('svg-storage', {
    category: 'function',
    color: '#a6bbcf',
    defaults: {
      name: {value: ""},
      url: {value:""},
      file: {value:""}
    },
    inputs:1,
    outputs:1,
    icon: "",
    label: function() {
      return this.name || "svg-storage";
    }
  });

</script>

<script type="text/x-red" data-template-name="svg-storage">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="file" id="node-input-name" placeholder="Name">
  </div>

  <div class="form-tips">The <b>Base URL</b> gets prepended to whatever payload is passed in. Leave blank if you pass in a full url.<br/>The append gets added to the end after any payload.<br/>The output Topic is the same as the input Topic.</div>
</script>

<script type="text/x-red" data-help-name="svg-storage">
  <p>nodo de utilidad para cargar archivos svg</p>
</script>

<script>

  function agregarArchivo() {

    console.log(document.getElementById("node-input").value);

    // tomar proximo id desde elemento oculto
    let id_archivo_txt = document.getElementById("id_archivo").value;
    let id_archivo = parseInt(id_archivo_txt);
    id_archivo++;

    var archivo = document.getElementById("node-input").value;
    var lista_archivo = document.createElement("input");

    lista_archivo.setAttribute("type", "hidden");
    lista_archivo.setAttribute("id", id_archivo);

    console.log(lista_archivo);

    // actualizar valor de proximo id
    document.getElementById("id_archivo").value = id_archivo;
  }

</script>

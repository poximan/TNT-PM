<script type="text/javascript">

  RED.nodes.registerType("svg-storage", {
    category: 'function',
    color: '#a6bbcf',
    defaults: {
      files: {value:""}
    },
    inputs:1,
    outputs:1,
    icon: "icon-upload.png",
    label: function() {
      return this.name || "svg-storage";
    },
    oneditsave: () => {
      return this.flows;
    }
  });

</script>

<script type="text/x-red" data-template-name="svg-storage">
  <div class="form-row">
    <label for="node-input-files"> Seleccione archivo </label>
    <input type="file" id="node-input-files" onchange="handleFileSelect(this.files)" name="files[]" multiple />

    <input type="hidden" id="id_archivo" value="0">
    <output id="list"></output>
  </div>
</script>

<script type="text/x-red" data-help-name="svg-storage">
  <p> Cargador de archivos </p>
</script>

<script>
  function handleFileSelect(files) {

    // files is a FileList of File objects. List some properties.
    var output = [];
    for (var i = 0, f; f = files[i]; i++) {
      output.push('<li><strong>', encodeURI(f.name), '</strong>',
      ' - ', f.size, ' bytes', '</li>');
    }
    document.getElementById('list').innerHTML += '<ul>' + output.join('') + '</ul>';
  }
</script>
